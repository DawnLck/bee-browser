# AI标签页分组分析Prompt审查报告

## 整体评估
这个prompt结构清晰，适合分析用户浏览行为和意图分类。整体框架合理，但有一些细节需要优化以提高在Chrome扩展中的实用性。

## 优点
1. **角色定义明确**: 浏览行为分析师、意图识别专家等专业角色定位清晰
2. **分类体系完整**: 涵盖了主要的浏览目的，从工作到娱乐各个方面
3. **两层分类结构**: 从大类别到具体子任务的层次化分类逻辑清晰
4. **JSON输出格式**: 适合程序化处理的结构化输出
5. **具体示例丰富**: 每个类别都有具体的二层意图示例

## 需要改进的地方

### 1. 输出格式不一致
**问题**: prompt中显示了两种不同的JSON格式：
```json
// 格式1（要求的）
[{"id": 16282060, "category": "技术学习"}]

// 格式2（示例）
[{"title": "React 官方文档", "url": "...", "intent_level1": "...", "intent_level2": "..."}]
```
**建议**: 明确统一使用哪种格式

### 2. 输入数据结构未定义
**问题**: 没有说明AI会接收到什么样的标签页数据结构
**建议**: 明确定义输入数据格式，包括哪些字段可用

### 3. 边界情况处理不足
**问题**: 没有处理以下情况的指导：
- 标签页标题为空或很短
- 浏览器扩展页面
- 本地文件或内网地址
- 重复的标签页
**建议**: 添加特殊情况的处理规则

### 4. 分类规则需要细化
**问题**: "当此一级意图分类下的tab少于2个的时候，分类为'其他'"这个规则可能导致有用信息丢失
**建议**: 提供更灵活的分组策略

### 5. 缺少上下文信息
**问题**: 没有考虑标签页的时间序列、访问频率等上下文信息
**建议**: 如果有时间戳等信息，应该利用起来

## 改进版Prompt建议

```
# 角色
你是专业的浏览行为分析师、用户意图识别专家、网页内容理解大师、浏览器标签管理大师。

# 任务
分析用户当前打开的浏览器标签页数据，识别用户的真实浏览意图，将相关标签页智能分组。以JSON格式返回适合Chrome扩展使用的分组结果。

# 输入数据格式
你将接收到标签页对象数组：
```json
[
  {
    "id": 1590827726,
    "title": "senlin-bee-browser/bee-browser",
    "url": "https://github.com/senlin-bee-browser/bee-browser"
  },
  {
    "id": 1590827688,
    "title": "creao",
    "url": "https://prod.creao.ai/build"
  },
  {
    "id": 1590827717,
    "title": "Home - Coze",
    "url": "https://www.coze.com/home"
  },
  {
    "id": 1590827712,
    "title": "Claude",
    "url": "https://claude.ai/settings/billing"
  }
]
```

# 两层意图分析体系（保持原有规则）
**第一层意图**（大类别）：
1. **工作目的**：编程开发、项目管理、数据分析、文档编写、邮件处理等
2. **学习目的**：技术学习、课程学习、技能提升、知识查询等  
3. **娱乐目的**：视频观看、游戏、音乐、小说、漫画等
4. **生活服务**：购物比价、餐饮外卖、出行预订、生活缴费等
5. **信息获取**：新闻资讯、股票财经、天气查询、百科搜索等
6. **社交沟通**：社交媒体、即时通讯、论坛讨论、博客浏览等
7. **游戏娱乐**：玩网页游戏、Steam 游戏、手游、观看游戏直播或游戏资讯等
8. **技术学习**：学习编程，it，ai，或者专业领域的学习活动

**第二层意图**（具体子任务）：
根据第一层意图，进一步分析用户的具体目的，如：
- 工作开发：开发公司项目管理系统、修复登录 bug、编写 API 文档
- 技术学习：学习 React 框架、Python 数据分析教程、阅读技术书籍
- 视频娱乐：追剧《权力的游戏》、李子柒美食视频、刷抖音短视频
- 购物消费：淘宝买羽绒服、美团订外卖、京东买耳机
- 资讯浏览：头条科技新闻、知乎热门问答、微博热搜

# 分析规则
1. **必须进行两层意图分类**：先识别第一层意图，再分析具体的第二层意图
2. 当第一层意图分类下的tab少于2个时，分类为"其他"
3. 分类总数量控制在3-6个以内，避免过于细分
4. 分类名称要具体明确，体现用户的实际目的
5. 相同意图的标签页归为一类，便于用户管理

# 特殊情况处理
- 浏览器扩展页面 → 归入"临时浏览"
- 标题为空/过短 → 根据URL域名推断内容类型
- 本地文件/内网地址 → 根据开发上下文分组
- 重复内容 → 合并到同一组
- 搜索引擎结果页 → 根据搜索关键词推断意图

# 输出格式（两层意图结构）
必须以标准JSON格式返回，不包含任何额外说明。按照两层意图结构组织：

```json
[
  {
    "intent_level1": "技术学习",
    "intent_level1_description": "学习编程、AI、技术工具相关内容",
    "subcategories": [
      {
        "intent_level2": "学习AI工具使用",
        "tab_ids": [1590827688, 1590827717, 1590827712]
      }
    ]
  },
  {
    "intent_level1": "工作目的", 
    "intent_level1_description": "开发项目、代码管理相关工作",
    "subcategories": [
      {
        "intent_level2": "开发项目代码管理",
        "tab_ids": [1590827726]
      }
    ]
  }
]
```

**输出要求**：
1. 第一层按照8个大类别分组（工作目的、学习目的、娱乐目的等）
2. 第二层是具体的子任务意图，描述用户的真实目的
3. 每个第二层意图包含对应的tab_ids数组
4. 如果某个第一层意图下只有1个标签页，归入"其他"类别

# 分析要点
1. 深度理解URL和标题的语义含义
2. 识别用户的连续性浏览行为模式
3. 区分工作时间和休闲时间的浏览特征
4. 考虑标签页之间的关联性和依赖关系
5. 提供分组的置信度评分

# 约束条件
1. 必须返回有效的JSON格式，不包含任何额外说明文字
2. 分组名称使用中文，简洁明了
3. 每个分组至少包含1个标签页
4. 置信度评分范围0.0-1.0
5. 如果无法明确分类，宁可保守分组也不要强行归类
```

## 主要改进点

1. **更清晰的数据结构**: 明确定义了输入和输出格式
2. **更丰富的输出信息**: 增加了分析摘要、描述和置信度
3. **更完善的边界处理**: 针对各种特殊情况提供了处理规则
4. **更灵活的分组策略**: 允许单个标签页分组，避免信息丢失
5. **更实用的分析维度**: 考虑了浏览行为的时间性和连续性

## 实施建议

### 技术实现方面：
1. **降级处理**: 当AI分析失败时，提供基于域名的简单分组
2. **用户反馈**: 允许用户手动调整AI的分组结果
3. **学习机制**: 记录用户的调整，改进后续分析
4. **隐私保护**: 敏感URL（银行、医疗等）的特殊处理
5. **性能优化**: 对相似标签页模式进行结果缓存

### 测试验证方面：
1. **多场景测试**: 工作、学习、娱乐等不同场景
2. **中文内容测试**: 确保对中文网站的准确识别
3. **大量标签页测试**: 测试50+标签页的处理能力
4. **边界情况测试**: 扩展页面、本地文件等特殊情况

这个改进版本应该能为你的Chrome扩展提供更准确和实用的标签页分组功能。